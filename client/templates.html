<template name="example">
 There are currently {{usersOnlineCount}} users online.
<h1>List of Users online </h1>
  <ul>
   {{#each usersOnline}}
   <li>{{_id}}</li>
   {{/each}}
  </ul>
</template>

<template name="mainlayout">
  <div class="page-wrap">
        <nav class="ui inverted pointing menu nav">
            {{#if currentUser}}
            <a class="{{isActiveRoute 'main'}} item" href="{{pathFor 'main'}}"><i class="home icon"></i> Home</a>
            <a class="{{isActiveRoute 'games'}} item" href="{{pathFor 'games'}}"><i class="users icon"></i> Games</a>
            <a class="{{isActiveRoute 'profile'}} item" href="{{pathFor 'profile'}}"><i class="alarm outline icon"></i> Profile</a>
            {{/if}}
            <div class="right menu">        
                {{#if currentUser}}
                {{> CurrentUserMenu}}
                {{else}}
                {{#if config 'allowSignin' true}}
                    <a class="{{isActiveRoute regex='SignIn|Register'}} item" href="{{pathFor 'signin'}}"><i class="sign in icon"></i> Sign In{{#if config 'allowSignup' true}} or Register{{/if}}</a>
                    {{/if}}
                {{/if}}
              
            </div>
        </nav>
        <main>
            {{#if hosting}} {{> matchChannel}} {{/if}}
            {{> yield}}
        </main>
    </div>
  </template>

<template name="main">
    <h2>TEST HERE</h2>
</template>

<template name="hostMatch">
    {{#unless hosting}}
    <button class="positive fluid ui button" data-action="modal">Create Match</button>
    {{/unless}}
</template>

<template name="hostMatchModal">
    {{> hostActiveGame}}
</template>

<template name="hostActiveGame">
    <div class="ui form">
    <div class="field">
    <label>Wager</label>
    <input type="number" id="matchStake" min="1" max="1000">
    </div>
    <div class="field">
    <label>Solo or Team</label>
    <select class="ui dropdown" id="matchTeam">
      <option value="solo">Solo</option>
      <option value="team">Team</option>
    </select>
    </div>
    <div class="field">
    <label>Quantifier</label>
    <select class="ui dropdown" id="matchAchieved">
      <option value="most">Most</option>
      <option value="least">Least</option>
    </select>
    </div>
    <div class="field">
    <label>Objective</label>
    <select class="ui dropdown" id="matchObjective">
      <option value="">Objective</option>
      <option value="kills">Kills</option>
      <option value="deaths">Deaths</option>
      <option value="points">Points</option>
    </select>
  </div>
  <div class="ui buttons">
    <button class="ui button positive" id="matchCreate">Create</button>
  </div>
</div>
</template>

<template name="matchHostForm">
    {{> quickForm collection=gameSelected id="matchDetails" type="insert"}}
</template>

<template name="games">
    {{#if currentUser}}
    {{#unless hosting}}{{> hostMatch}}{{/unless}}
    <div class="pusher">
        {{> activegames}}
    </div>
    <div class="ui sidebar bottom inline visible">
        {{> gamesFooter}}
    </div>
    {{/if}}    
</template>

<template name="activegames">
    <div class="ui huge celled horizontal list">
        {{#each gameCollected}}
            <div class="item" id="activeMatch">
                {{> activeMatch}}
             </div>
        {{/each}}
    </div>
</template>

<template name="activeMatch">
    <img src="/images/games/{{gameName}}.jpg"  data-title="{{host}}" data-content="{{gameDetails.achieved}} in {{gameDetails.objective}} results in {{causeWin}} " class="ui avatar image" >
    <div class="content">
    <div class="header">{{gameName}} </div>
     <i class="diamond icon"></i>{{stake}}
    </div>
</template>

<template name="matchChannel">
    {{#if hosting}}<button class="negative fluid ui button" id="unhostMatch"> Cancel Match</button>{{/if}}
    <div class="ui horizontal divider">--</div>
</template>

<template name="gamesFooter">
    {{#each gametypes}}
    <a class="item">
    <i class="home icon"></i>
        {{gamename}}
    </a>
    {{/each}}
</template>

<!-- <template name="activeq">
    <div class="ui huge celled horizontal list">
        {{#each gameToCollection}}
            <div class="item" id="activeqMatch">
                {{> activeqMatch}}
             </div>
        {{/each}}
    </div>
</template>
 -->
<!-- <template name="activeqMatch">
    <img src="/images/games/{{gameSelected}}.jpg"  data-title="{{host}}" data-content="{{winCondition}} in {{numberRounds}}" class="ui avatar image" >
    <div class="content">
    <div class="header">{{gameDetails}} </div>
     <i class="diamond icon"></i>{{stake}}
    </div>
</template> -->

<template name="joinMatchModal">
    <div class="ui grid">
        <div class="column 16 wide">
        <div class="row">
            <i class="diamond icon"></i>{{stake}}<i class="diamond icon"></i>
        </div>
        <div class="row">
            <div class="ui list">
                <div class="item">
                    <i class="map marker icon"></i>
                    <div class="header">Header</div>
                    <div class="description">Description</div>
                </div>
            </div>
        </div>
        <div class="row">
            {{> joinMatchForm}}
        </div>
    </div>
    </div>
</template>

<template name="joinMatchForm">
    <div class="ui buttons">
    <button class="ui button massive blue circular">With</button>
    <div class="or"></div>
    <button class="ui button massive red circular">Against</button>
    <div class="divider"></div>
    <div class="ui bottom attached button submit">JOIN UP</div>
    </div>
</template>

<template name="profile">
    <h2>PROFILE</h2>
    <div class="panel-body">
    {{#autoForm collection="Meteor.users" doc=current id="signupForm" type=typeAction}}
    <fieldset>
      {{> afObjectField name='profile'}}
    </fieldset>
    <button type="submit" class="ui buttons btn btn-primary">Update</button>
    {{/autoForm}}
   </div>
</template>

<template name="signin">
    <div class="ui stackable page grid">
        <div class="eight wide centered column">
            {{#if config 'allowSignin' true}}
                <h3 class="ui top attached header">
                    Sign In
                </h3>
                <div class="ui attached inverted segment">
                    <div class="ui vertical segment">
                        {{> atForm}}
                    </div>
                </div>
            {{else}}
                <div class="uk-width-small-2-3 uk-width-medium-3-5 uk-container-center">
                    <div class="uk-alert uk-alert-danger uk-alert-large">
                        <h2>Sign-In Disabled</h2>
                        <p>
                            Sign-ins are temporarily disabled because the service is undergoing maintenance, please try again later.
                        </p>
                    </div>
                </div>
            {{/if}}
        </div>
    </div>
</template>


<template name="CurrentUserMenu">
    <div class="ui dropdown item">
        <i class="user icon"></i> USER
        <i class="dropdown icon"></i>
        <div class="menu">
            <div class="header"><i class="users icon"></i> Hunters</div>
            <div class="divider"></div>
            <a class="item" href="{{pathFor 'games'}}">My Hunters</a>
            <a class="item" href="{{pathFor 'games'}}">Add Hunter</a>
            <div class="divider"></div>
            <div class="header"><i class="settings icon"></i> Settings</div>
            <a class="item" href="{{pathFor 'profile'}}">Network</a>
            <div class="divider"></div>
            <div class="header"><i class="sign out icon"></i> Session</div>
            <div class="divider"></div>
            <a class="sign-out item" href="{{pathFor 'logout'}}">Sign Out</a>
        </div>
    </div>
</template>

