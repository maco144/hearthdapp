<template name="example">
 There are currently {{usersOnlineCount}} users online.
<h1>List of Users online </h1>
  <ul>
   {{#each usersOnline}}
   <li>{{_id}}</li>
   {{/each}}
  </ul>
</template>

<template name="mainlayout">
  <div class="page-wrap">
        <nav class="ui inverted pointing menu nav">
            {{#if currentUser}}
            <a class="{{isActiveRoute 'main'}} item" href="{{pathFor 'main'}}"><i class="home icon"></i> Home</a>
            <a class="{{isActiveRoute 'games'}} item" href="{{pathFor 'games'}}"><i class="users icon"></i> Games</a>
            <a class="{{isActiveRoute 'profile'}} item" href="{{pathFor 'profile'}}"><i class="alarm outline icon"></i> Profile</a>
            {{/if}}
            <div class="right menu">
                
                {{#if currentUser}}
                {{> CurrentUserMenu}}
                {{else}}
                {{#if config 'allowSignin' true}}
                    <a class="{{isActiveRoute regex='SignIn|Register'}} item" href="{{pathFor 'signin'}}"><i class="sign in icon"></i> Sign In{{#if config 'allowSignup' true}} or Register{{/if}}</a>
                    {{/if}}
                {{/if}}
              
            </div>
        </nav>
        <main>
            {{> yield}}
        </main>
    </div>
  </template>

<template name="main">
<h2>TEST HERE</h2>
</template>

<template name="games">
<h1>gaMes</h1>
{{> addPlayerForm}}
{{> activeq}}
</template>

<template name="profile">
	<h2>PROFILE</h2>
    <div class="panel-body">
    {{#autoForm collection="Meteor.users" doc=current id="signupForm" type=typeAction}}
    <fieldset>
      {{> afObjectField name='profile'}}
    </fieldset>
    <button type="submit" class="btn btn-primary">Update</button>
    {{/autoForm}}
   </div>
</template>

<template name="activeq">
    <ul class="list-group">
    In Queue
        {{#each players}}
        <li class="list-group-item player"> {{name}} 
        <span class="badge"> {{stake}}</span></li>
        {{/each}}
    </ul>
</template>

<template name="addPlayerForm">
    {{#if currentUser}}
    <form>
        <input type="number" name="wager" value="1" min="0">
        <input type="submit" value="submit">
        <input type="button" id="unregister" value="Leave">
    </form>
    {{/if}}
</template>

<template name="gameRequests">
  <h2>Game Requests</h2>
  <ul>
  {{#each gameRequests}}
    <li>{{player}} vs {{challenged}} for {{wager}} at {{time}}</li>
  {{/each}}
  </ul>
</template>

<template name="signin">
    <div class="ui stackable page grid">
        <div class="eight wide centered column">
            {{#if config 'allowSignin' true}}
                <h3 class="ui top attached header">
                    Sign In
                </h3>
                <div class="ui attached inverted segment">
                    <div class="ui vertical segment">
                        <form id="signInForm" class="ui inverted form">
                            <div class="required field">
                                <label for="username">Username</label>
                                <div class="ui icon input">
                                    <input id="username" name="username" class="uk-width-1-1 uk-form-large" type="text" placeholder="Enter Username">
                                    <i class="user icon"></i>
                                </div>
                            </div>
                            <div class="required field">
                                <label for="password">Password</label>
                                <div class="ui icon input">
                                    <input id="password" name="password" class="uk-width-1-1 uk-form-large" type="password" placeholder="Enter Password">
                                    <i class="lock icon"></i>
                                </div>
                            </div>
                            <div class="ui error message">
                            </div>
                            <button class="ui blue submit button">Sign In</button>
                        </form>
                    </div>
                </div>
                <div class="ui bottom attached right aligned segment">
                     <a href="{{ pathFor 'register' }}">Don't have an account yet, go here to register!</a>
                 </div>
            {{else}}
                <div class="uk-width-small-2-3 uk-width-medium-3-5 uk-container-center">
                    <div class="uk-alert uk-alert-danger uk-alert-large">
                        <h2>Sign-In Disabled</h2>
                        <p>
                            Sign-ins are temporarily disabled because the service is undergoing maintenance, please try again later.
                        </p>
                    </div>
                </div>
            {{/if}}
        </div>
    </div>
</template>

<template name="register">
    <div class="ui stackable page grid">
        <div class="eight wide centered column">
            {{#if config 'allowSignin'}}
                <h3 class="ui top attached header">
                    Register
                </h3>
                <div class="ui attached inverted segment">
                    <div class="ui vertical segment">
                        <form id="registerForm" class="ui inverted form">
                            <div class="required field">
                                <label for="username">Username</label>
                                <div class="ui icon input">
                                    <input id="username" name="username" class="uk-width-1-1 uk-form-large" type="text" placeholder="Enter Username">
                                    <i class="user icon"></i>
                                </div>
                            </div>
                            <div class="required field">
                                <label for="password">Password</label>
                                <div class="ui icon input">
                                    <input id="password" name="password" class="uk-width-1-1 uk-form-large" type="password" placeholder="Enter Password">
                                    <i class="lock icon"></i>
                                </div>
                            </div>
                            <div class="ui error message">
                            </div>
                            <button class="ui blue submit button">Register</button>
                        </form>
                    </div>
                </div>
                <div class="ui bottom attached right aligned segment">
                     <a href="{{ pathFor 'signin' }}">Already have an account, go here to sign-in!</a>
                 </div>
            {{else}}
                <div class="uk-width-small-2-3 uk-width-medium-3-5 uk-container-center">
                    <div class="uk-alert uk-alert-danger uk-alert-large">
                        <h2>Sign-Up Disabled</h2>
                        <p>
                            Sign-ups are temporarily disabled because the service is undergoing maintenance, please try again later.
                        </p>
                    </div>
                </div>
            {{/if}}
        </div>
    </div>
</template>



<template name="CurrentUserMenu">
    <div class="ui dropdown item">
        <i class="user icon"></i> USER
        <i class="dropdown icon"></i>
        <div class="menu">
            <div class="header"><i class="users icon"></i> Hunters</div>
            <div class="divider"></div>
            <a class="item" href="{{pathFor 'games'}}">My Hunters</a>
            <a class="item" href="{{pathFor 'games'}}">Add Hunter</a>
            <div class="divider"></div>
            <div class="header"><i class="settings icon"></i> Settings</div>
            <a class="item" href="{{pathFor 'profile'}}">Network</a>
            <div class="divider"></div>
            <div class="header"><i class="sign out icon"></i> Session</div>
            <div class="divider"></div>
            <a class="sign-out item" href="">Sign Out</a>
        </div>
    </div>
</template>

