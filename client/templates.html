<template name="example">
 There are currently {{usersOnlineCount}} users online.
<h1>List of Users online </h1>
  <ul>
   {{#each usersOnline}}
   <li>{{_id}}</li>
   {{/each}}
  </ul>
</template>

<template name="mainlayout">
  <div class="page-wrap">
        <nav class="ui inverted pointing menu nav">
            {{#if currentUser}}
            <a class="{{isActiveRoute 'main'}} item" href="{{pathFor 'main'}}"><i class="home icon"></i> Home</a>
            <a class="{{isActiveRoute 'games'}} item" href="{{pathFor 'games'}}"><i class="users icon"></i> Games</a>
            <a class="{{isActiveRoute 'profile'}} item" href="{{pathFor 'profile'}}"><i class="alarm outline icon"></i> Profile</a>
            {{/if}}
            <div class="right menu">        
                {{#if currentUser}}
                {{> CurrentUserMenu}}
                {{else}}
                {{#if config 'allowSignin' true}}
                    <a class="{{isActiveRoute regex='SignIn|Register'}} item" href="{{pathFor 'signin'}}"><i class="sign in icon"></i> Sign In{{#if config 'allowSignup' true}} or Register{{/if}}</a>
                    {{/if}}
                {{/if}}
              
            </div>
        </nav>
        <main>
            {{> yield}}
        </main>
    </div>
  </template>

<template name="main">
    <h2>TEST HERE</h2>
</template>

<template name="hostMatch">
    {{#unless inMatchLobby}}
    <button class="positive fluid ui button" data-action="modal">Create Match</button>
    {{/unless}}
</template>

<template name="hostMatchModal">
    {{> hostActiveGame}}
</template>

<template name="hostActiveGame">
    <div class="ui form">
    <div class="field">
    <label>Wager</label>
    <input type="number" id="matchStake" min="1" max="1000">
    </div>
    <div class="field">
    <label>Solo or Team</label>
    <select class="ui dropdown" id="matchTeam">
      <option value="solo">Solo</option>
      <option value="team">Team</option>
    </select>
    </div>
    <div class="field hidden" id="teamshidden">
        <label>Number of Teams </label>
            <input type="number" id="matchTeamNumber" min="2" max="6">
    </div>
    <div class="field">
        <label>Players per side</label>
            <input type="number" id="matchPlayersAside" min="1" max="10">
    </div>
    <div class="field">
    <label>Quantifier</label>
    <select class="ui dropdown" id="matchAchieved">
      <option value="most">Most</option>
      <option value="least">Least</option>
    </select>
    </div>
    <div class="field">
    <label>Objective</label>
    <select class="ui dropdown" id="matchObjective">
      <option value="">Objective</option>
      <option value="kills">Kills</option>
      <option value="deaths">Deaths</option>
      <option value="points">Points</option>
    </select>
  </div>
  <div class="ui buttons">
    <button class="ui button positive" id="matchCreate">Create</button>
  </div>
</div>
</template>

<template name="games">
    {{#if currentUser}}
    <div class="pusher">
        {{#unless hosting}}{{> hostMatch}}{{/unless}}
        {{#if inMatchLobby}}{{> matchChannel}}
        {{else}}       
        {{> activegames}}
        {{/if}}
    </div>
    <div class="ui sidebar bottom inline visible">
        {{> gamesFooter}}
    </div>
    {{/if}}    
</template>

<template name="matchChannel">
    {{#if hosting}}<button class="negative fluid ui button" id="unhostMatch"> Cancel Match</button>{{/if}}
    {{#unless hosting}}<button class="negative fluid ui button" id="leaveMatch"> Leave Match</button>
    {{/unless}}
    <div class="ui horizontal divider">--</div>
     {{> matchTeamDisplay}}
</template>

<template name="matchTeamDisplay">
    {{#with aMatch}}
    {{log}}
    <input type="hidden" id="matchId" value={{_id}}>
    {{stake}}----{{_id}}
        <div class="ui middle aligned list" id="readyUpPlayers">
            {{#each players}}
            {{log}}
            <div class="item">
                <img class="ui avatar image" src="/images/players/avatar.jpg">
                <div class="content">
                    <div class="header">
                        {{this.name}} --- {{this.team}} --- {{this._id}}
                        <input type="checkbox" class="checkem" check="{{isChecked ..}}">
                    </div>
                </div>
            </div>
            {{/each}}
        </div>
    {{/with}}
</template>

<template name="activegames">
    <div class="ui huge celled horizontal list">
        {{#each gameCollected}}
            <div class="item" id="activeMatch">
                {{> activeMatch}}
             </div>
        {{/each}}
    </div>
</template>

<template name="activeMatch">   
    <div class="ui card blurring segment">
        <div class="content">
            <div class="header">{{host}} -- {{stake}}</div>
        </div>
        <div class="content">
            <h4 class="ui sub header">Rules</h4>
            <div class="ui small feed">
                
            </div>
        </div>
        <div class="extra content">
            {{gameRules}}
        </div>
        {{> gameJoinDim}}
    </div>
</template>

<template name="gameJoinDim">
    <div class="ui dimmer">
        <div class="content">
            <div class="center">
                <h2 class="ui inverted header">Join</h2>
                <div class="ui button" id="joinMatchButtons"></div>
            </div>
        </div>
    </div>
</template>

<template name="gamesFooter">
    {{#each gametypes}}
    <a class="item">
    <i class="home icon"></i>
        {{gamename}}
    </a>
    {{/each}}
</template>

<!-- <template name="joinMatchModal">
    {{#with jMatch}}
    <div class="ui middle aligned three column centered grid">
        <div class="column">
            <div class="ui list">
                <div class="item">
                    <i class="map marker icon"></i>
                    <div class="header">The</div>
                    <div class="description">{{gameDetails.achieved}} in {{gameDetails.objective}} results in {{causeWin}} </div>
                </div>
            </div>
        </div>
        <div class="column" id="pickTeam">
        <div class="column">
            <button class="ui button fluid massive blue" value=1 id="team1">With</button>
                {{> joinMatchForm}}
        </div>
        <div class="row">
            <button class="ui button fluid massive red" value=2 id="team2">Against</button>
        </div>
        </div>
        <div class="column">
            <div class="ui button fluid massive submit">JOIN UP</div>
          </div>
    </div>
    {{/with}}
</template> 

<template name="joinMatchForm">
    <div class="ui buttons">
    <button class="ui button massive blue circular" value=1 id="team1">With</button>
    <div class="or"></div>
    <button class="ui button massive red circular" value=2 id="team2">Against</button>
    </div>
</template> -->

<template name="profile">
    <h2>PROFILE</h2>

</template>

<template name="signin">
    <div class="ui stackable page grid">
        <div class="eight wide centered column">
            {{#if config 'allowSignin' true}}
                <h3 class="ui top attached header">
                    Sign In
                </h3>
                <div class="ui attached inverted segment">
                    <div class="ui vertical segment">
                        {{> atForm}}
                    </div>
                </div>
            {{else}}
                <div class="uk-width-small-2-3 uk-width-medium-3-5 uk-container-center">
                    <div class="uk-alert uk-alert-danger uk-alert-large">
                        <h2>Sign-In Disabled</h2>
                        <p>
                            Sign-ins are temporarily disabled because the service is undergoing maintenance, please try again later.
                        </p>
                    </div>
                </div>
            {{/if}}
        </div>
    </div>
</template>


<template name="CurrentUserMenu">
    <div class="ui dropdown item">
        <i class="user icon"></i> USER
        <i class="dropdown icon"></i>
        <div class="menu">
            <div class="header"><i class="users icon"></i> Hunters</div>
            <div class="divider"></div>
            <a class="item" href="{{pathFor 'games'}}">My Hunters</a>
            <a class="item" href="{{pathFor 'games'}}">Add Hunter</a>
            <div class="divider"></div>
            <div class="header"><i class="settings icon"></i> Settings</div>
            <a class="item" href="{{pathFor 'profile'}}">Network</a>
            <div class="divider"></div>
            <div class="header"><i class="sign out icon"></i> Session</div>
            <div class="divider"></div>
            <a class="sign-out item" href="{{pathFor 'logout'}}">Sign Out</a>
        </div>
    </div>
</template>

